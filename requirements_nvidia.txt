# CHL API Server - NVIDIA CUDA GPU acceleration
#
# This requirements file is for the API server running with NVIDIA CUDA
# GPU acceleration for embeddings and vector search.
#
# Prerequisites:
#   - NVIDIA GPU with CUDA Compute Capability 6.0+ (Pascal or newer)
#   - NVIDIA drivers with compatible CUDA runtime installed
#
# Installation:
#   python -m venv .venv-nvidia
#   source .venv-nvidia/bin/activate
#   python -m pip install --upgrade pip
#
#   # Use the official PyTorch CUDA wheels (cu124 for CUDA 12.x)
#   PIP_EXTRA_INDEX_URL=https://download.pytorch.org/whl/cu124 \
#     python -m pip install -r requirements_nvidia.txt
#
# Starting the API server:
#   python -m uvicorn src.api.server:app --host 127.0.0.1 --port 8000
#   (Backend is automatically configured from data/runtime_config.json)
#
# Note: The MCP server is installed separately via `uv sync` from pyproject.toml
# and communicates with this API server via HTTP.

# Web framework and server
fastapi>=0.114.0
uvicorn[standard]>=0.30.0
python-multipart>=0.0.6
jinja2>=3.1.0

# Database and ORM
sqlalchemy>=2.0.0

# HTTP client for external services
httpx>=0.27.0
requests>=2.31.0

# Google Sheets integration
gspread>=5.0.0
google-auth>=2.0.0
google-auth-oauthlib>=1.0.0

# Data processing and utilities
numpy>=1.24.0,<2.0.0
pandas>=2.0.0
openpyxl>=3.0.0
pyyaml>=6.0
python-dotenv>=1.0.0
pydantic>=2.6.0
tqdm>=4.65.0
tenacity>=8.2.0
markdown>=3.6
networkx>=3.2.1
python-louvain>=0.16
autogen>=0.4.1              # LLM agent
autogen-ext[openai]>=0.4.1  # OpenAI-compatible client helpers
pytest>=7.4.0               # testing

# ML / GPU stack (HF Transformers with CUDA)
# Use the official PyTorch CUDA wheels:
#   PIP_EXTRA_INDEX_URL=https://download.pytorch.org/whl/cu124 \
#     python -m pip install -r requirements_nvidia.txt
--extra-index-url https://download.pytorch.org/whl/cu124
torch>=2.3.0
accelerate>=0.31.0
transformers>=4.51.0
sentence-transformers>=3.1.1
huggingface-hub>=0.20.0
# FAISS on CPU is sufficient for search throughput; GPU FAISS optional
faiss-cpu>=1.8.0
