{% extends "base.html" %}
{% block content %}
<div class="content-wrapper">
  <header class="page-header">
    <div>
      <h1>Settings &amp; Configuration</h1>
    </div>
  </header>

  {% include "partials/flash.html" %}

  <div id="checklist" class="w3-container settings-section">
    {% include "partials/settings_onboarding.html" %}
  </div>
  <div id="sheets" class="w3-container settings-section">
    {% include "partials/sheets_card.html" %}
  </div>
  <div id="models" class="w3-container settings-section">
    {% include "partials/models_card.html" %}
  </div>
  <div id="diagnostics" class="w3-container settings-section">
    {% include "partials/diagnostics_panel.html" %}
  </div>
  <div id="backup" class="w3-container settings-section">
    {% include "partials/backup_card.html" %}
  </div>
</div>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      function showSection(sectionId) {
        var sections = document.getElementsByClassName('settings-section');
        for (var i = 0; i < sections.length; i++) {
          sections[i].style.display = 'none';
        }
        var section = document.getElementById(sectionId);
        if (section) {
          section.style.display = 'block';
        }
      }

      function handleHashChange() {
        var hash = window.location.hash.substring(1);
        if (hash) {
          showSection(hash);
        } else {
          showSection('checklist');
        }
      }

      window.addEventListener('hashchange', handleHashChange);
      handleHashChange(); // Show initial section
    });
  </script>
{% endblock %}
